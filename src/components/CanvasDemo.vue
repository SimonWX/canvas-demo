<template>
  <div class="hello">
    <h3>Fabric.js-Demo</h3>
    <div class="operation-bar">
      <button id="freeDraw" class="btn">画笔模式</button>
      <label class="btn">
        线宽：
        <input
          type="range"
          id="lineWidthRange"
          autocomplete="false"
          min="1"
          max="10"
          step="1"
          placeholder="请选择画笔宽度"
        />
        {{lineWidth}}
      </label>
      <label class="btn lineColor">
        线色：
        <input type="color" id="lineColor" autocomplete />
      </label>
      <button id="clearCanvas" class="btn">清除画板</button>
      <button id="selectAll" class="btn">全选</button>
      <button id="discardSelectAll" class="btn">取消全选</button>
      <button id="deleteSelect" :class="['btn',!isDraw ? 'isDis':'']" :disabled="!isDraw">删除</button>
      <button id="toJSON" class="btn">画板信息序列转化为JSON</button>
      <label class="btn">
        图形：
        <select id="selectShape" value>
          <option value="select">选择图案</option>
          <option value="rect">矩形</option>
          <option value="circle">圆</option>
          <option value="ellipse">椭圆</option>
          <option value="straight">直线</option>
          <option value="triangle">三角形</option>
        </select>
      </label>
    </div>

    <div class="canvasWrapper">
      <canvas id="main" width="1200" height="800"></canvas>
    </div>
  </div>
</template>

<script>
import { fabric } from "fabric";
export default {
  name: "HelloWorld",
  props: {
    msg: String
  },
  data() {
    return {
      lineWidth: 2,
      isDraw: true,
      rectCount: 0,
      circleCount: 0,
      ellipseCount: 0,
      straightCount: 0,
      triangleCount: 0,
      color: "",
      lineWidthCurrent: "",
      lineArr: [
        ["M", 48.5, 163.5635],
        ["Q", 48.5, 163.5625, 48.5, 163.0625],
        ["Q", 48.5, 162.5625, 48.5, 161.5625],
        ["Q", 48.5, 160.5625, 50, 159.0625],
        ["Q", 51.5, 157.5625, 52, 156.0625],
        ["Q", 52.5, 154.5625, 54.5, 152.5625],
        ["Q", 56.5, 150.5625, 58, 148.5625],
        ["Q", 59.5, 146.5625, 61.5, 144.0625],
        ["Q", 63.5, 141.5625, 65.5, 139.5625],
        ["Q", 67.5, 137.5625, 70, 135.5625],
        ["Q", 72.5, 133.5625, 74.5, 131.0625],
        ["Q", 76.5, 128.5625, 78.5, 127.0625],
        ["Q", 80.5, 125.5625, 81.5, 125.0625],
        ["Q", 82.5, 124.5625, 83.5, 123.5625],
        ["Q", 84.5, 122.5625, 86, 122.0625],
        ["Q", 87.5, 121.5625, 88, 121.0625],
        ["Q", 88.5, 120.5625, 89, 120.5625],
        ["Q", 89.5, 120.5625, 90, 120.5625],
        ["Q", 90.5, 120.5625, 90.5, 121.0625],
        ["Q", 90.5, 121.5625, 90.5, 122.0625],
        ["Q", 90.5, 122.5625, 90, 125.0625],
        ["Q", 89.5, 127.5625, 88.5, 130.0625],
        ["Q", 87.5, 132.5625, 86.5, 135.5625],
        ["Q", 85.5, 138.5625, 84.5, 141.0625],
        ["Q", 83.5, 143.5625, 82.5, 147.0625],
        ["Q", 81.5, 150.5625, 80.5, 154.5625],
        ["Q", 79.5, 158.5625, 78.5, 162.0625],
        ["Q", 77.5, 165.5625, 77, 167.0625],
        ["Q", 76.5, 168.5625, 76, 171.0625],
        ["Q", 75.5, 173.5625, 75, 175.0625],
        ["Q", 74.5, 176.5625, 74.5, 177.5625],
        ["Q", 74.5, 178.5625, 74.5, 179.0625],
        ["Q", 74.5, 179.5625, 74.5, 180.0625],
        ["Q", 74.5, 180.5625, 75, 180.5625],
        ["Q", 75.5, 180.5625, 80.5, 175.5625],
        ["Q", 85.5, 170.5625, 92.5, 161.5625],
        ["Q", 99.5, 152.5625, 109.5, 140.0625],
        ["Q", 119.5, 127.5625, 126, 119.0625],
        ["Q", 132.5, 110.5625, 143, 96.5625],
        ["Q", 153.5, 82.5625, 157, 77.5625],
        ["Q", 160.5, 72.5625, 163.5, 69.0625],
        ["Q", 166.5, 65.5625, 168, 63.0625],
        ["Q", 169.5, 60.5625, 173.5, 56.0625],
        ["Q", 177.5, 51.5625, 180, 48.5625],
        ["Q", 182.5, 45.5625, 183.5, 44.5625],
        ["Q", 184.5, 43.5625, 185.5, 42.0625],
        ["Q", 186.5, 40.5625, 187, 40.5625],
        ["Q", 187.5, 40.5625, 187.5, 41.0625],
        ["Q", 187.5, 41.5625, 187.5, 45.5625],
        ["Q", 187.5, 49.5625, 185.5, 55.0625],
        ["Q", 183.5, 60.5625, 182, 64.0625],
        ["Q", 180.5, 67.5625, 176.5, 79.5625],
        ["Q", 172.5, 91.5625, 171, 96.0625],
        ["Q", 169.5, 100.5625, 167, 110.0625],
        ["Q", 164.5, 119.5625, 162, 127.5625],
        ["Q", 159.5, 135.5625, 158.5, 138.5625],
        ["Q", 157.5, 141.5625, 157, 144.5625],
        ["Q", 156.5, 147.5625, 156, 152.0625],
        ["Q", 155.5, 156.5625, 155, 159.5625],
        ["Q", 154.5, 162.5625, 154, 164.5625],
        ["Q", 153.5, 166.5625, 153.5, 167.5625],
        ["Q", 153.5, 168.5625, 153.5, 169.0625],
        ["Q", 153.5, 169.5625, 154, 169.5625],
        ["Q", 154.5, 169.5625, 155, 169.5625],
        ["Q", 155.5, 169.5625, 156.5, 169.0625],
        ["Q", 157.5, 168.5625, 158.5, 167.5625],
        ["Q", 159.5, 166.5625, 160, 166.0625],
        ["Q", 160.5, 165.5625, 161.5, 165.0625],
        ["Q", 162.5, 164.5625, 163, 164.0625],
        ["Q", 163.5, 163.5625, 164, 163.0625],
        ["Q", 164.5, 162.5625, 165, 162.5625],
        ["Q", 165.5, 162.5625, 165.5, 164.0625],
        ["Q", 165.5, 165.5625, 165, 167.0625],
        ["Q", 164.5, 168.5625, 164, 170.0625],
        ["Q", 163.5, 171.5625, 163.5, 172.0625],
        ["Q", 163.5, 172.5625, 163, 174.0625],
        ["Q", 162.5, 175.5625, 162.5, 176.0625],
        ["Q", 162.5, 176.5625, 162.5, 177.0625],
        ["Q", 162.5, 177.5625, 162.5, 178.0625],
        ["Q", 162.5, 178.5625, 163, 178.5625],
        ["Q", 163.5, 178.5625, 167, 176.5625],
        ["Q", 170.5, 174.5625, 179.5, 166.0625],
        ["Q", 188.5, 157.5625, 199, 146.0625],
        ["Q", 209.5, 134.5625, 216, 126.5625],
        ["Q", 222.5, 118.5625, 228, 111.5625],
        ["Q", 233.5, 104.5625, 237, 100.0625],
        ["Q", 240.5, 95.5625, 243.5, 92.0625],
        ["Q", 246.5, 88.5625, 251, 83.0625],
        ["Q", 255.5, 77.5625, 258.5, 74.0625],
        ["Q", 261.5, 70.5625, 263, 68.0625],
        ["Q", 264.5, 65.5625, 267, 63.0625],
        ["Q", 269.5, 60.5625, 269, 64.0625],
        ["Q", 268.5, 67.5625, 265.5, 75.0625],
        ["Q", 262.5, 82.5625, 258, 93.0625],
        ["Q", 253.5, 103.5625, 249.5, 115.5625],
        ["Q", 245.5, 127.5625, 241, 139.5625],
        ["Q", 236.5, 151.5625, 235, 157.5625],
        ["Q", 233.5, 163.5625, 232, 167.5625],
        ["Q", 230.5, 171.5625, 229.5, 174.5625],
        ["Q", 228.5, 177.5625, 227, 183.5625],
        ["Q", 225.5, 189.5625, 224.5, 193.0625],
        ["Q", 223.5, 196.5625, 223.5, 201.0625],
        ["Q", 223.5, 205.5625, 223.5, 206.5625],
        ["Q", 223.5, 207.5625, 224.5, 207.5625],
        ["Q", 225.5, 207.5625, 233, 201.5625],
        ["Q", 240.5, 195.5625, 252, 183.0625],
        ["Q", 263.5, 170.5625, 278, 152.0625],
        ["Q", 292.5, 133.5625, 300, 123.5625],
        ["Q", 307.5, 113.5625, 313.5, 106.0625],
        ["Q", 319.5, 98.5625, 324, 93.5625],
        ["Q", 328.5, 88.5625, 331.5, 85.0625],
        ["Q", 334.5, 81.5625, 339, 75.0625],
        ["Q", 343.5, 68.5625, 346.5, 65.0625],
        ["Q", 349.5, 61.5625, 353.5, 57.5625],
        ["Q", 357.5, 53.5625, 358, 53.5625],
        ["Q", 358.5, 53.5625, 358.5, 54.0625],
        ["Q", 358.5, 54.5625, 357, 60.5625],
        ["Q", 355.5, 66.5625, 352, 75.5625],
        ["Q", 348.5, 84.5625, 344.5, 95.0625],
        ["Q", 340.5, 105.5625, 336, 117.5625],
        ["Q", 331.5, 129.5625, 329.5, 135.0625],
        ["Q", 327.5, 140.5625, 323.5, 151.0625],
        ["Q", 319.5, 161.5625, 318, 165.0625],
        ["Q", 316.5, 168.5625, 316, 171.0625],
        ["Q", 315.5, 173.5625, 314, 178.0625],
        ["Q", 312.5, 182.5625, 312, 185.5625],
        ["Q", 311.5, 188.5625, 311, 190.0625],
        ["Q", 310.5, 191.5625, 310.5, 192.5625],
        ["Q", 310.5, 193.5625, 311, 193.5625],
        ["Q", 311.5, 193.5625, 314.5, 190.5625],
        ["Q", 317.5, 187.5625, 323, 179.5625],
        ["Q", 328.5, 171.5625, 331.5, 167.5625],
        ["Q", 334.5, 163.5625, 337.5, 159.5625],
        ["Q", 340.5, 155.5625, 342.5, 153.0625],
        ["Q", 344.5, 150.5625, 347.5, 146.5625],
        ["Q", 350.5, 142.5625, 352.5, 140.0625],
        ["Q", 354.5, 137.5625, 356, 135.5625],
        ["Q", 357.5, 133.5625, 358, 132.5625],
        ["Q", 358.5, 131.5625, 359.5, 131.0625],
        ["Q", 360.5, 130.5625, 360.5, 131.0625],
        ["Q", 360.5, 131.5625, 358, 136.5625],
        ["Q", 355.5, 141.5625, 351.5, 148.5625],
        ["Q", 347.5, 155.5625, 343, 164.5625],
        ["Q", 338.5, 173.5625, 333, 184.5625],
        ["Q", 327.5, 195.5625, 325.5, 200.5625],
        ["Q", 323.5, 205.5625, 322, 209.0625],
        ["Q", 320.5, 212.5625, 319.5, 215.0625],
        ["Q", 318.5, 217.5625, 316.5, 222.0625],
        ["Q", 314.5, 226.5625, 313.5, 229.5625],
        ["Q", 312.5, 232.5625, 312, 234.0625],
        ["Q", 311.5, 235.5625, 311.5, 236.5625],
        ["Q", 311.5, 237.5625, 312.5, 236.0625],
        ["Q", 313.5, 234.5625, 325.5, 217.0625],
        ["Q", 337.5, 199.5625, 345.5, 187.5625],
        ["Q", 353.5, 175.5625, 368.5, 152.5625],
        ["Q", 383.5, 129.5625, 391.5, 118.5625],
        ["Q", 399.5, 107.5625, 405, 99.0625],
        ["Q", 410.5, 90.5625, 414.5, 85.0625],
        ["Q", 418.5, 79.5625, 420.5, 76.5625],
        ["Q", 422.5, 73.5625, 427.5, 67.0625],
        ["Q", 432.5, 60.5625, 435.5, 56.5625],
        ["Q", 438.5, 52.5625, 441, 49.0625],
        ["Q", 443.5, 45.5625, 444, 45.5625],
        ["Q", 444.5, 45.5625, 444, 47.0625],
        ["Q", 443.5, 48.5625, 437, 61.0625],
        ["Q", 430.5, 73.5625, 427, 81.5625],
        ["Q", 423.5, 89.5625, 416.5, 103.5625],
        ["Q", 409.5, 117.5625, 402.5, 133.5625],
        ["Q", 395.5, 149.5625, 392.5, 156.0625],
        ["Q", 389.5, 162.5625, 387, 168.0625],
        ["Q", 384.5, 173.5625, 383, 177.5625],
        ["Q", 381.5, 181.5625, 378.5, 187.5625],
        ["Q", 375.5, 193.5625, 374.5, 197.0625],
        ["Q", 373.5, 200.5625, 372, 204.5625],
        ["Q", 370.5, 208.5625, 373.5, 205.5625],
        ["Q", 376.5, 202.5625, 385, 191.0625],
        ["Q", 393.5, 179.5625, 400, 170.5625],
        ["Q", 406.5, 161.5625, 411, 154.5625],
        ["Q", 415.5, 147.5625, 418.5, 143.0625],
        ["Q", 421.5, 138.5625, 424, 135.0625],
        ["Q", 426.5, 131.5625, 430, 126.5625],
        ["Q", 433.5, 121.5625, 435.5, 118.5625],
        ["Q", 437.5, 115.5625, 440.5, 111.5625],
        ["Q", 443.5, 107.5625, 444, 107.5625],
        ["Q", 444.5, 107.5625, 444.5, 109.5625],
        ["Q", 444.5, 111.5625, 441, 119.0625],
        ["Q", 437.5, 126.5625, 433, 136.0625],
        ["Q", 428.5, 145.5625, 426.5, 151.5625],
        ["Q", 424.5, 157.5625, 420.5, 167.0625],
        ["Q", 416.5, 176.5625, 412.5, 185.5625],
        ["Q", 408.5, 194.5625, 407.5, 197.5625],
        ["Q", 406.5, 200.5625, 406, 202.5625],
        ["Q", 405.5, 204.5625, 404, 208.0625],
        ["Q", 402.5, 211.5625, 402, 213.5625],
        ["Q", 401.5, 215.5625, 401.5, 216.5625],
        ["Q", 401.5, 217.5625, 401.5, 218.5625],
        ["Q", 401.5, 219.5625, 401.5, 219.0625],
        ["Q", 401.5, 218.5625, 408.5, 209.5625],
        ["Q", 415.5, 200.5625, 423.5, 189.0625],
        ["Q", 431.5, 177.5625, 436, 170.0625],
        ["Q", 440.5, 162.5625, 445, 156.5625],
        ["Q", 449.5, 150.5625, 452, 146.0625],
        ["Q", 454.5, 141.5625, 456, 139.5625],
        ["Q", 457.5, 137.5625, 461, 132.5625],
        ["Q", 464.5, 127.5625, 466.5, 125.0625],
        ["Q", 468.5, 122.5625, 470, 119.0625],
        ["Q", 471.5, 115.5625, 471.5, 116.5625],
        ["Q", 471.5, 117.5625, 468, 124.0625],
        ["Q", 464.5, 130.5625, 460, 138.0625],
        ["Q", 455.5, 145.5625, 453, 151.0625],
        ["Q", 450.5, 156.5625, 446.5, 164.0625],
        ["Q", 442.5, 171.5625, 441, 175.0625],
        ["Q", 439.5, 178.5625, 438, 180.0625],
        ["Q", 436.5, 181.5625, 435, 185.5625],
        ["Q", 433.5, 189.5625, 433, 191.0625],
        ["Q", 432.5, 192.5625, 431.5, 194.5625],
        ["Q", 430.5, 196.5625, 432.5, 194.5625],
        ["Q", 434.5, 192.5625, 442, 180.0625],
        ["Q", 449.5, 167.5625, 461.5, 150.5625],
        ["Q", 473.5, 133.5625, 487, 111.5625],
        ["Q", 500.5, 89.5625, 507.5, 79.0625],
        ["Q", 514.5, 68.5625, 519.5, 60.5625],
        ["Q", 524.5, 52.5625, 527.5, 47.5625],
        ["Q", 530.5, 42.5625, 532, 40.0625],
        ["Q", 533.5, 37.5625, 537, 32.5625],
        ["Q", 540.5, 27.5625, 544, 21.5625],
        ["Q", 547.5, 15.5625, 548, 15.0625],
        ["Q", 548.5, 14.5625, 547.5, 17.5625],
        ["Q", 546.5, 20.5625, 539, 34.0625],
        ["Q", 531.5, 47.5625, 527.5, 56.5625],
        ["Q", 523.5, 65.5625, 515, 81.0625],
        ["Q", 506.5, 96.5625, 499.5, 112.5625],
        ["Q", 492.5, 128.5625, 489.5, 134.5625],
        ["Q", 486.5, 140.5625, 484.5, 145.0625],
        ["Q", 482.5, 149.5625, 481.5, 152.5625],
        ["Q", 480.5, 155.5625, 478, 161.5625],
        ["Q", 475.5, 167.5625, 474, 171.0625],
        ["Q", 472.5, 174.5625, 471.5, 177.5625],
        ["Q", 470.5, 180.5625, 470.5, 181.0625],
        ["Q", 470.5, 181.5625, 471.5, 180.0625],
        ["Q", 472.5, 178.5625, 479.5, 169.0625],
        ["Q", 486.5, 159.5625, 491.5, 153.0625],
        ["Q", 496.5, 146.5625, 500.5, 141.0625],
        ["Q", 504.5, 135.5625, 507.5, 131.5625],
        ["Q", 510.5, 127.5625, 512.5, 125.0625],
        ["Q", 514.5, 122.5625, 518, 118.0625],
        ["Q", 521.5, 113.5625, 523.5, 110.5625],
        ["Q", 525.5, 107.5625, 528.5, 104.5625],
        ["Q", 531.5, 101.5625, 532.5, 101.5625],
        ["Q", 533.5, 101.5625, 533.5, 107.0625],
        ["Q", 533.5, 112.5625, 531, 119.0625],
        ["Q", 528.5, 125.5625, 526.5, 130.5625],
        ["Q", 524.5, 135.5625, 519, 150.0625],
        ["Q", 513.5, 164.5625, 504.5, 185.5625],
        ["Q", 495.5, 206.5625, 493, 215.0625],
        ["Q", 490.5, 223.5625, 488.5, 229.0625],
        ["Q", 486.5, 234.5625, 485.5, 238.5625],
        ["Q", 484.5, 242.5625, 483.5, 245.0625],
        ["Q", 482.5, 247.5625, 481.5, 252.0625],
        ["Q", 480.5, 256.5625, 479.5, 259.5625],
        ["Q", 478.5, 262.5625, 478.5, 264.5625],
        ["Q", 478.5, 266.5625, 478.5, 268.0625],
        ["Q", 478.5, 269.5625, 479.5, 268.5625],
        ["Q", 480.5, 267.5625, 485.5, 259.0625],
        ["Q", 490.5, 250.5625, 495, 244.0625],
        ["Q", 499.5, 237.5625, 503, 232.5625],
        ["Q", 506.5, 227.5625, 509, 223.0625],
        ["Q", 511.5, 218.5625, 513.5, 215.5625],
        ["Q", 515.5, 212.5625, 518.5, 208.5625],
        ["Q", 521.5, 204.5625, 523.5, 201.5625],
        ["Q", 525.5, 198.5625, 526.5, 196.5625],
        ["Q", 527.5, 194.5625, 528.5, 193.0625],
        ["Q", 529.5, 191.5625, 529, 193.0625],
        ["Q", 528.5, 194.5625, 526, 200.5625],
        ["Q", 523.5, 206.5625, 519.5, 214.0625],
        ["Q", 515.5, 221.5625, 514, 225.5625],
        ["Q", 512.5, 229.5625, 511, 233.0625],
        ["Q", 509.5, 236.5625, 508.5, 238.0625],
        ["Q", 507.5, 239.5625, 506.5, 242.5625],
        ["Q", 505.5, 245.5625, 505, 247.5625],
        ["Q", 504.5, 249.5625, 503.5, 251.5625],
        ["Q", 502.5, 253.5625, 502.5, 252.0625],
        ["Q", 502.5, 250.5625, 505.5, 244.0625],
        ["Q", 508.5, 237.5625, 512.5, 229.5625],
        ["Q", 516.5, 221.5625, 519, 217.0625],
        ["Q", 521.5, 212.5625, 525.5, 204.5625],
        ["Q", 529.5, 196.5625, 531.5, 193.0625],
        ["Q", 533.5, 189.5625, 534.5, 188.0625],
        ["Q", 535.5, 186.5625, 537.5, 183.0625],
        ["Q", 539.5, 179.5625, 540.5, 177.5625],
        ["Q", 541.5, 175.5625, 542, 174.5625],
        ["Q", 542.5, 173.5625, 543, 172.5625],
        ["Q", 543.5, 171.5625, 543.5, 173.5625],
        ["Q", 543.5, 175.5625, 541, 179.5625],
        ["Q", 538.5, 183.5625, 536.5, 188.5625],
        ["Q", 534.5, 193.5625, 533.5, 196.0625],
        ["Q", 532.5, 198.5625, 531.5, 200.0625],
        ["Q", 530.5, 201.5625, 529.5, 204.5625],
        ["Q", 528.5, 207.5625, 528, 209.0625],
        ["Q", 527.5, 210.5625, 526.5, 212.0625],
        ["Q", 525.5, 213.5625, 526, 212.5625],
        ["Q", 526.5, 211.5625, 530, 206.0625],
        ["Q", 533.5, 200.5625, 536.5, 196.0625],
        ["Q", 539.5, 191.5625, 541.5, 188.5625],
        ["Q", 543.5, 185.5625, 545.5, 182.5625],
        ["Q", 547.5, 179.5625, 550, 176.0625],
        ["Q", 552.5, 172.5625, 554.5, 169.0625],
        ["Q", 556.5, 165.5625, 557.5, 164.0625],
        ["Q", 558.5, 162.5625, 559.5, 161.5625],
        ["Q", 560.5, 160.5625, 560.5, 160.0625],
        ["Q", 560.5, 159.5625, 561, 159.5625],
        ["Q", 561.5, 159.5625, 560.5, 162.5625],
        ["Q", 559.5, 165.5625, 556.5, 172.0625],
        ["Q", 553.5, 178.5625, 550, 186.0625],
        ["Q", 546.5, 193.5625, 541.5, 204.5625],
        ["Q", 536.5, 215.5625, 534.5, 221.0625],
        ["Q", 532.5, 226.5625, 531, 230.5625],
        ["Q", 529.5, 234.5625, 529, 237.0625],
        ["Q", 528.5, 239.5625, 527, 243.5625],
        ["Q", 525.5, 247.5625, 524, 250.5625],
        ["Q", 522.5, 253.5625, 522.5, 255.5625],
        ["Q", 522.5, 257.5625, 522, 259.5625],
        ["Q", 521.5, 261.5625, 522, 260.0625],
        ["Q", 522.5, 258.5625, 528.5, 247.5625],
        ["Q", 534.5, 236.5625, 542.5, 222.0625],
        ["Q", 550.5, 207.5625, 561, 188.5625],
        ["Q", 571.5, 169.5625, 577, 160.0625],
        ["Q", 582.5, 150.5625, 586.5, 144.5625],
        ["Q", 590.5, 138.5625, 593, 134.5625],
        ["Q", 595.5, 130.5625, 597, 128.0625],
        ["Q", 598.5, 125.5625, 602, 120.5625],
        ["Q", 605.5, 115.5625, 607.5, 112.5625],
        ["Q", 609.5, 109.5625, 611.5, 106.5625],
        ["Q", 613.5, 103.5625, 613.5, 104.0625],
        ["Q", 613.5, 104.5625, 612.5, 109.0625],
        ["Q", 611.5, 113.5625, 609, 118.0625],
        ["Q", 606.5, 122.5625, 601, 135.0625],
        ["Q", 595.5, 147.5625, 593.5, 152.5625],
        ["Q", 591.5, 157.5625, 589.5, 161.5625],
        ["Q", 587.5, 165.5625, 586.5, 168.0625],
        ["Q", 585.5, 170.5625, 584.5, 174.5625],
        ["Q", 583.5, 178.5625, 581, 183.5625],
        ["Q", 578.5, 188.5625, 578.5, 189.5625],
        ["Q", 578.5, 190.5625, 579.5, 189.0625],
        ["Q", 580.5, 187.5625, 585.5, 181.0625],
        ["Q", 590.5, 174.5625, 597, 165.5625],
        ["Q", 603.5, 156.5625, 611, 146.0625],
        ["Q", 618.5, 135.5625, 622, 130.5625],
        ["Q", 625.5, 125.5625, 633, 116.0625],
        ["Q", 640.5, 106.5625, 643, 104.0625],
        ["Q", 645.5, 101.5625, 647, 99.5625],
        ["Q", 648.5, 97.5625, 651, 95.0625],
        ["Q", 653.5, 92.5625, 656.5, 89.0625],
        ["Q", 659.5, 85.5625, 660.5, 85.5625],
        ["Q", 661.5, 85.5625, 661.5, 86.5625],
        ["Q", 661.5, 87.5625, 657, 98.0625],
        ["Q", 652.5, 108.5625, 648.5, 115.0625],
        ["Q", 644.5, 121.5625, 637.5, 134.0625],
        ["Q", 630.5, 146.5625, 622, 162.0625],
        ["Q", 613.5, 177.5625, 610, 184.5625],
        ["Q", 606.5, 191.5625, 604, 196.5625],
        ["Q", 601.5, 201.5625, 600.5, 204.5625],
        ["Q", 599.5, 207.5625, 596.5, 212.5625],
        ["Q", 593.5, 217.5625, 590, 224.0625],
        ["Q", 586.5, 230.5625, 586, 231.5625],
        ["Q", 585.5, 232.5625, 585.5, 232.0625],
        ["Q", 585.5, 231.5625, 588, 226.0625],
        ["Q", 590.5, 220.5625, 595, 212.0625],
        ["Q", 599.5, 203.5625, 603, 198.5625],
        ["Q", 606.5, 193.5625, 611, 185.0625],
        ["Q", 615.5, 176.5625, 617.5, 173.0625],
        ["Q", 619.5, 169.5625, 621, 167.5625],
        ["Q", 622.5, 165.5625, 624.5, 162.5625],
        ["Q", 626.5, 159.5625, 628, 157.0625],
        ["Q", 629.5, 154.5625, 630.5, 153.5625],
        ["Q", 631.5, 152.5625, 632, 151.5625],
        ["Q", 632.5, 150.5625, 633, 150.5625],
        ["Q", 633.5, 150.5625, 633.5, 151.0625],
        ["Q", 633.5, 151.5625, 633.5, 153.0625],
        ["Q", 633.5, 154.5625, 633.5, 155.5625],
        ["Q", 633.5, 156.5625, 633.5, 157.5625],
        ["Q", 633.5, 158.5625, 633, 159.5625],
        ["Q", 632.5, 160.5625, 632.5, 161.0625],
        ["Q", 632.5, 161.5625, 632.5, 162.5625],
        ["Q", 632.5, 163.5625, 632.5, 164.0625],
        ["Q", 632.5, 164.5625, 633, 164.5625],
        ["Q", 633.5, 164.5625, 635.5, 164.5625],
        ["Q", 637.5, 164.5625, 640.5, 162.5625],
        ["Q", 643.5, 160.5625, 647, 158.0625],
        ["Q", 650.5, 155.5625, 654.5, 152.5625],
        ["Q", 658.5, 149.5625, 660.5, 147.5625],
        ["Q", 662.5, 145.5625, 666, 142.0625],
        ["Q", 669.5, 138.5625, 671, 137.5625],
        ["Q", 672.5, 136.5625, 674.5, 135.0625],
        ["Q", 676.5, 133.5625, 678, 132.0625],
        ["Q", 679.5, 130.5625, 680.5, 129.5625],
        ["Q", 681.5, 128.5625, 682, 128.0625],
        ["Q", 682.5, 127.5625, 682.5, 128.0625],
        ["Q", 682.5, 128.5625, 682, 131.0625],
        ["Q", 681.5, 133.5625, 680, 137.0625],
        ["Q", 678.5, 140.5625, 676, 145.0625],
        ["Q", 673.5, 149.5625, 669.5, 159.0625],
        ["Q", 665.5, 168.5625, 662, 177.5625],
        ["Q", 658.5, 186.5625, 656.5, 191.0625],
        ["Q", 654.5, 195.5625, 653, 199.0625],
        ["Q", 651.5, 202.5625, 651, 204.5625],
        ["Q", 650.5, 206.5625, 649, 210.5625],
        ["Q", 647.5, 214.5625, 646.5, 216.5625],
        ["Q", 645.5, 218.5625, 644.5, 222.0625],
        ["Q", 643.5, 225.5625, 645, 223.5625],
        ["Q", 646.5, 221.5625, 650, 215.0625],
        ["Q", 653.5, 208.5625, 660, 198.5625],
        ["Q", 666.5, 188.5625, 674, 177.5625],
        ["Q", 681.5, 166.5625, 691, 152.0625],
        ["Q", 700.5, 137.5625, 709.5, 124.0625],
        ["Q", 718.5, 110.5625, 722.5, 105.0625],
        ["Q", 726.5, 99.5625, 729.5, 95.5625],
        ["Q", 732.5, 91.5625, 734.5, 88.5625],
        ["Q", 736.5, 85.5625, 740, 80.5625],
        ["Q", 743.5, 75.5625, 746, 72.5625],
        ["Q", 748.5, 69.5625, 752.5, 65.5625],
        ["Q", 756.5, 61.5625, 756.5, 62.0625],
        ["Q", 756.5, 62.5625, 754.5, 68.0625],
        ["Q", 752.5, 73.5625, 749, 80.5625],
        ["Q", 745.5, 87.5625, 743, 91.5625],
        ["Q", 740.5, 95.5625, 736.5, 102.0625],
        ["Q", 732.5, 108.5625, 730.5, 112.0625],
        ["Q", 728.5, 115.5625, 727.5, 118.0625],
        ["Q", 726.5, 120.5625, 724.5, 124.0625],
        ["Q", 722.5, 127.5625, 720.5, 130.0625],
        ["Q", 718.5, 132.5625, 718, 134.0625],
        ["Q", 717.5, 135.5625, 716.5, 137.0625],
        ["Q", 715.5, 138.5625, 716, 138.5625],
        ["Q", 716.5, 138.5625, 720, 133.5625],
        ["Q", 723.5, 128.5625, 728, 122.0625],
        ["Q", 732.5, 115.5625, 738.5, 108.5625],
        ["Q", 744.5, 101.5625, 747.5, 97.5625],
        ["Q", 750.5, 93.5625, 756.5, 87.5625],
        ["Q", 762.5, 81.5625, 765, 79.0625],
        ["Q", 767.5, 76.5625, 768.5, 75.5625],
        ["Q", 769.5, 74.5625, 772, 71.5625],
        ["Q", 774.5, 68.5625, 776.5, 67.5625],
        ["Q", 778.5, 66.5625, 779.5, 65.5625],
        ["Q", 780.5, 64.5625, 780.5, 65.5625],
        ["Q", 780.5, 66.5625, 779.5, 69.5625],
        ["Q", 778.5, 72.5625, 776, 77.0625],
        ["Q", 773.5, 81.5625, 770.5, 87.0625],
        ["Q", 767.5, 92.5625, 765.5, 95.5625],
        ["Q", 763.5, 98.5625, 761.5, 102.5625],
        ["Q", 759.5, 106.5625, 758.5, 108.0625],
        ["Q", 757.5, 109.5625, 756, 112.0625],
        ["Q", 754.5, 114.5625, 754, 116.5625],
        ["Q", 753.5, 118.5625, 752.5, 119.0625],
        ["Q", 751.5, 119.5625, 751.5, 120.5625],
        ["Q", 751.5, 121.5625, 753, 119.5625],
        ["Q", 754.5, 117.5625, 759.5, 111.5625],
        ["Q", 764.5, 105.5625, 770, 99.0625],
        ["Q", 775.5, 92.5625, 778.5, 88.5625],
        ["Q", 781.5, 84.5625, 784.5, 81.5625],
        ["Q", 787.5, 78.5625, 789, 77.0625],
        ["Q", 790.5, 75.5625, 793, 72.5625],
        ["Q", 795.5, 69.5625, 797.5, 67.5625],
        ["Q", 799.5, 65.5625, 801.5, 64.0625],
        ["Q", 803.5, 62.5625, 803.5, 63.5625],
        ["Q", 803.5, 64.5625, 802, 70.0625],
        ["Q", 800.5, 75.5625, 798.5, 79.0625],
        ["Q", 796.5, 82.5625, 790, 93.5625],
        ["Q", 783.5, 104.5625, 781, 109.5625],
        ["Q", 778.5, 114.5625, 774, 121.5625],
        ["Q", 769.5, 128.5625, 768, 131.5625],
        ["Q", 766.5, 134.5625, 765.5, 136.0625],
        ["Q", 764.5, 137.5625, 762.5, 140.5625],
        ["Q", 760.5, 143.5625, 760, 145.5625],
        ["Q", 759.5, 147.5625, 758.5, 149.5625],
        ["Q", 757.5, 151.5625, 758.5, 150.0625],
        ["Q", 759.5, 148.5625, 764, 143.5625],
        ["Q", 768.5, 138.5625, 771.5, 135.0625],
        ["Q", 774.5, 131.5625, 779, 125.5625],
        ["Q", 783.5, 119.5625, 788.5, 114.0625],
        ["Q", 793.5, 108.5625, 795.5, 106.5625],
        ["Q", 797.5, 104.5625, 799, 103.5625],
        ["Q", 800.5, 102.5625, 802.5, 100.5625],
        ["Q", 804.5, 98.5625, 807, 96.5625],
        ["Q", 809.5, 94.5625, 810, 94.5625],
        ["Q", 810.5, 94.5625, 810.5, 95.5625],
        ["Q", 810.5, 96.5625, 809.5, 102.0625],
        ["Q", 808.5, 107.5625, 805, 114.5625],
        ["Q", 801.5, 121.5625, 797, 131.5625],
        ["Q", 792.5, 141.5625, 790, 147.0625],
        ["Q", 787.5, 152.5625, 785.5, 157.0625],
        ["Q", 783.5, 161.5625, 782.5, 164.0625],
        ["Q", 781.5, 166.5625, 779.5, 171.0625],
        ["Q", 777.5, 175.5625, 775.5, 181.0625],
        ["Q", 773.5, 186.5625, 773, 189.0625],
        ["Q", 772.5, 191.5625, 773, 191.0625],
        ["Q", 773.5, 190.5625, 778.5, 182.5625],
        ["Q", 783.5, 174.5625, 788, 168.0625],
        ["Q", 792.5, 161.5625, 801, 150.5625],
        ["Q", 809.5, 139.5625, 818, 128.0625],
        ["Q", 826.5, 116.5625, 830, 112.0625],
        ["Q", 833.5, 107.5625, 836, 104.5625],
        ["Q", 838.5, 101.5625, 840, 99.5625],
        ["Q", 841.5, 97.5625, 844.5, 94.5625],
        ["Q", 847.5, 91.5625, 851, 87.5625],
        ["Q", 854.5, 83.5625, 855, 82.5625],
        ["Q", 855.5, 81.5625, 855, 83.0625],
        ["Q", 854.5, 84.5625, 850, 91.0625],
        ["Q", 845.5, 97.5625, 840, 104.5625],
        ["Q", 834.5, 111.5625, 828.5, 119.5625],
        ["Q", 822.5, 127.5625, 819.5, 132.5625],
        ["Q", 816.5, 137.5625, 814.5, 141.5625],
        ["Q", 812.5, 145.5625, 811, 148.0625],
        ["Q", 809.5, 150.5625, 806.5, 154.5625],
        ["Q", 803.5, 158.5625, 801, 162.5625],
        ["Q", 798.5, 166.5625, 797.5, 168.0625],
        ["Q", 796.5, 169.5625, 797, 168.0625],
        ["Q", 797.5, 166.5625, 801, 161.0625],
        ["Q", 804.5, 155.5625, 811, 146.0625],
        ["Q", 817.5, 136.5625, 826.5, 124.0625],
        ["Q", 835.5, 111.5625, 843.5, 99.5625],
        ["Q", 851.5, 87.5625, 855.5, 83.0625],
        ["Q", 859.5, 78.5625, 862.5, 75.0625],
        ["Q", 865.5, 71.5625, 867.5, 69.5625],
        ["Q", 869.5, 67.5625, 872.5, 63.5625],
        ["Q", 875.5, 59.5625, 879, 55.5625],
        ["Q", 882.5, 51.5625, 883.5, 51.0625],
        ["Q", 884.5, 50.5625, 884.5, 51.5625],
        ["Q", 884.5, 52.5625, 881.5, 57.5625],
        ["Q", 878.5, 62.5625, 872.5, 70.5625],
        ["Q", 866.5, 78.5625, 852.5, 97.5625],
        ["Q", 838.5, 116.5625, 828.5, 131.5625],
        ["Q", 818.5, 146.5625, 814, 154.0625],
        ["Q", 809.5, 161.5625, 807, 165.5625],
        ["Q", 804.5, 169.5625, 803, 172.5625],
        ["Q", 801.5, 175.5625, 800.5, 177.0625],
        ["Q", 799.5, 178.5625, 795.5, 184.5625],
        ["Q", 791.5, 190.5625, 790, 192.0625],
        ["Q", 788.5, 193.5625, 788.5, 192.0625],
        ["Q", 788.5, 190.5625, 792, 185.0625],
        ["Q", 795.5, 179.5625, 801.5, 169.0625],
        ["Q", 807.5, 158.5625, 815, 147.5625],
        ["Q", 822.5, 136.5625, 826, 131.0625],
        ["Q", 829.5, 125.5625, 837.5, 114.5625],
        ["Q", 845.5, 103.5625, 852.5, 95.0625],
        ["Q", 859.5, 86.5625, 862, 84.5625],
        ["Q", 864.5, 82.5625, 865.5, 81.0625],
        ["Q", 866.5, 79.5625, 869, 77.0625],
        ["Q", 871.5, 74.5625, 874.5, 71.5625],
        ["Q", 877.5, 68.5625, 877.5, 71.0625],
        ["Q", 877.5, 73.5625, 873.5, 79.0625],
        ["Q", 869.5, 84.5625, 863.5, 93.5625],
        ["Q", 857.5, 102.5625, 843.5, 123.5625],
        ["Q", 829.5, 144.5625, 825, 152.0625],
        ["Q", 820.5, 159.5625, 817, 165.0625],
        ["Q", 813.5, 170.5625, 811.5, 174.0625],
        ["Q", 809.5, 177.5625, 808, 179.5625],
        ["Q", 806.5, 181.5625, 804, 185.5625],
        ["Q", 801.5, 189.5625, 798.5, 194.5625],
        ["Q", 795.5, 199.5625, 795, 200.0625],
        ["Q", 794.5, 200.5625, 795.5, 198.0625],
        ["Q", 796.5, 195.5625, 803.5, 184.5625],
        ["Q", 810.5, 173.5625, 816, 165.0625],
        ["Q", 821.5, 156.5625, 831, 143.0625],
        ["Q", 840.5, 129.5625, 852, 115.0625],
        ["Q", 863.5, 100.5625, 868.5, 95.0625],
        ["Q", 873.5, 89.5625, 877.5, 85.0625],
        ["Q", 881.5, 80.5625, 884, 78.0625],
        ["Q", 886.5, 75.5625, 891.5, 70.0625],
        ["Q", 896.5, 64.5625, 899, 61.5625],
        ["Q", 901.5, 58.5625, 906, 55.0625],
        ["Q", 910.5, 51.5625, 910, 53.5625],
        ["Q", 909.5, 55.5625, 905, 61.5625],
        ["Q", 900.5, 67.5625, 894, 76.0625],
        ["Q", 887.5, 84.5625, 880, 95.0625],
        ["Q", 872.5, 105.5625, 862.5, 118.0625],
        ["Q", 852.5, 130.5625, 848, 136.0625],
        ["Q", 843.5, 141.5625, 840.5, 146.0625],
        ["Q", 837.5, 150.5625, 835.5, 153.5625],
        ["Q", 833.5, 156.5625, 829.5, 161.0625],
        ["Q", 825.5, 165.5625, 821, 170.5625],
        ["Q", 816.5, 175.5625, 814.5, 177.0625],
        ["Q", 812.5, 178.5625, 812.5, 178.0625],
        ["Q", 812.5, 177.5625, 814, 173.0625],
        ["Q", 815.5, 168.5625, 818, 164.5625],
        ["Q", 820.5, 160.5625, 825, 154.0625],
        ["Q", 829.5, 147.5625, 833.5, 141.5625],
        ["Q", 837.5, 135.5625, 840, 132.5625],
        ["Q", 842.5, 129.5625, 846.5, 125.0625],
        ["Q", 850.5, 120.5625, 852, 119.0625],
        ["Q", 853.5, 117.5625, 855.5, 115.0625],
        ["Q", 857.5, 112.5625, 858.5, 111.5625],
        ["Q", 859.5, 110.5625, 860.5, 109.0625],
        ["Q", 861.5, 107.5625, 862, 107.5625],
        ["Q", 862.5, 107.5625, 861.5, 108.5625],
        ["Q", 860.5, 109.5625, 859.5, 111.0625],
        ["Q", 858.5, 112.5625, 857, 114.5625],
        ["Q", 855.5, 116.5625, 854.5, 117.5625],
        ["Q", 853.5, 118.5625, 852.5, 119.5625],
        ["Q", 851.5, 120.5625, 850.5, 121.5625],
        ["Q", 849.5, 122.5625, 849, 123.0625],
        ["Q", 848.5, 123.5625, 848, 124.0625],
        ["Q", 847.5, 124.5625, 847.5, 124.0625],
        ["Q", 847.5, 123.5625, 850.5, 119.5625],
        ["Q", 853.5, 115.5625, 858, 110.5625],
        ["Q", 862.5, 105.5625, 865.5, 102.0625],
        ["Q", 868.5, 98.5625, 871, 96.0625],
        ["Q", 873.5, 93.5625, 877.5, 89.5625],
        ["Q", 881.5, 85.5625, 883, 85.0625],
        ["Q", 884.5, 84.5625, 886.5, 82.5625],
        ["Q", 888.5, 80.5625, 890.5, 79.0625],
        ["Q", 892.5, 77.5625, 893.5, 77.5625],
        ["Q", 894.5, 77.5625, 894.5, 78.5625],
        ["Q", 894.5, 79.5625, 893, 84.0625],
        ["Q", 891.5, 88.5625, 886.5, 95.0625],
        ["Q", 881.5, 101.5625, 876, 109.0625],
        ["Q", 870.5, 116.5625, 863.5, 125.5625],
        ["Q", 856.5, 134.5625, 850, 144.5625],
        ["Q", 843.5, 154.5625, 841.5, 158.0625],
        ["Q", 839.5, 161.5625, 838, 164.0625],
        ["Q", 836.5, 166.5625, 835.5, 167.5625],
        ["Q", 834.5, 168.5625, 832, 172.5625],
        ["Q", 829.5, 176.5625, 828.5, 177.0625],
        ["Q", 827.5, 177.5625, 827.5, 177.0625],
        ["Q", 827.5, 176.5625, 831, 170.5625],
        ["Q", 834.5, 164.5625, 840, 156.0625],
        ["Q", 845.5, 147.5625, 854, 137.0625],
        ["Q", 862.5, 126.5625, 871.5, 114.0625],
        ["Q", 880.5, 101.5625, 885, 96.5625],
        ["Q", 889.5, 91.5625, 893.5, 87.5625],
        ["Q", 897.5, 83.5625, 899.5, 81.5625],
        ["Q", 901.5, 79.5625, 905.5, 75.5625],
        ["Q", 909.5, 71.5625, 916, 64.5625],
        ["Q", 922.5, 57.5625, 923, 57.5625],
        ["Q", 923.5, 57.5625, 923.5, 58.5625],
        ["Q", 923.5, 59.5625, 920.5, 65.5625],
        ["Q", 917.5, 71.5625, 911, 80.5625],
        ["Q", 904.5, 89.5625, 889.5, 109.5625],
        ["Q", 874.5, 129.5625, 863.5, 145.5625],
        ["Q", 852.5, 161.5625, 847.5, 169.0625],
        ["Q", 842.5, 176.5625, 840, 180.5625],
        ["Q", 837.5, 184.5625, 835.5, 188.0625],
        ["Q", 833.5, 191.5625, 832.5, 193.0625],
        ["Q", 831.5, 194.5625, 829.5, 197.5625],
        ["Q", 827.5, 200.5625, 824, 205.5625],
        ["Q", 820.5, 210.5625, 822, 205.5625],
        ["Q", 823.5, 200.5625, 829, 191.5625],
        ["Q", 834.5, 182.5625, 841.5, 173.0625],
        ["Q", 848.5, 163.5625, 857, 151.5625],
        ["Q", 865.5, 139.5625, 874.5, 128.5625],
        ["Q", 883.5, 117.5625, 888, 113.0625],
        ["Q", 892.5, 108.5625, 895.5, 105.5625],
        ["Q", 898.5, 102.5625, 901, 100.5625],
        ["Q", 903.5, 98.5625, 907.5, 94.5625],
        ["Q", 911.5, 90.5625, 916, 86.5625],
        ["Q", 920.5, 82.5625, 921.5, 82.5625],
        ["Q", 922.5, 82.5625, 922.5, 83.0625],
        ["Q", 922.5, 83.5625, 921.5, 88.0625],
        ["Q", 920.5, 92.5625, 916, 99.0625],
        ["Q", 911.5, 105.5625, 905.5, 114.0625],
        ["Q", 899.5, 122.5625, 892, 133.5625],
        ["Q", 884.5, 144.5625, 881, 150.0625],
        ["Q", 877.5, 155.5625, 875, 159.5625],
        ["Q", 872.5, 163.5625, 871, 165.5625],
        ["Q", 869.5, 167.5625, 866.5, 171.5625],
        ["Q", 863.5, 175.5625, 860, 180.5625],
        ["Q", 856.5, 185.5625, 856, 185.5625],
        ["Q", 855.5, 185.5625, 855.5, 183.0625],
        ["Q", 855.5, 180.5625, 859.5, 174.0625],
        ["Q", 863.5, 167.5625, 869.5, 158.0625],
        ["Q", 875.5, 148.5625, 883, 137.5625],
        ["Q", 890.5, 126.5625, 900, 115.5625],
        ["Q", 909.5, 104.5625, 913.5, 100.5625],
        ["Q", 917.5, 96.5625, 920.5, 93.5625],
        ["Q", 923.5, 90.5625, 926.5, 88.0625],
        ["Q", 929.5, 85.5625, 934, 82.0625],
        ["Q", 938.5, 78.5625, 943.5, 73.5625],
        ["Q", 948.5, 68.5625, 950, 68.0625],
        ["Q", 951.5, 67.5625, 952, 67.5625],
        ["Q", 952.5, 67.5625, 952.5, 70.0625],
        ["Q", 952.5, 72.5625, 950, 76.0625],
        ["Q", 947.5, 79.5625, 944, 84.0625],
        ["Q", 940.5, 88.5625, 937.5, 92.0625],
        ["Q", 934.5, 95.5625, 932, 98.0625],
        ["Q", 929.5, 100.5625, 926.5, 104.0625],
        ["Q", 923.5, 107.5625, 922.5, 109.0625],
        ["Q", 921.5, 110.5625, 919, 112.5625],
        ["Q", 916.5, 114.5625, 915.5, 116.5625],
        ["Q", 914.5, 118.5625, 913, 119.5625],
        ["Q", 911.5, 120.5625, 911, 120.5625],
        ["Q", 910.5, 120.5625, 910.5, 120.0625],
        ["Q", 910.5, 119.5625, 911.5, 117.0625],
        ["Q", 912.5, 114.5625, 918, 108.0625],
        ["Q", 923.5, 101.5625, 926, 98.5625],
        ["Q", 928.5, 95.5625, 933.5, 90.0625],
        ["Q", 938.5, 84.5625, 941, 82.0625],
        ["Q", 943.5, 79.5625, 945, 78.0625],
        ["Q", 946.5, 76.5625, 949, 74.0625],
        ["Q", 951.5, 71.5625, 953.5, 69.0625],
        ["Q", 955.5, 66.5625, 957, 65.0625],
        ["Q", 958.5, 63.5625, 958.5, 64.5625],
        ["Q", 958.5, 65.5625, 954, 70.5625],
        ["Q", 949.5, 75.5625, 947, 78.5625],
        ["Q", 944.5, 81.5625, 936, 91.0625],
        ["Q", 927.5, 100.5625, 924, 104.5625],
        ["Q", 920.5, 108.5625, 915, 115.0625],
        ["Q", 909.5, 121.5625, 907, 124.0625],
        ["Q", 904.5, 126.5625, 903, 128.5625],
        ["Q", 901.5, 130.5625, 899.5, 133.0625],
        ["Q", 897.5, 135.5625, 893, 139.5625],
        ["Q", 888.5, 143.5625, 890, 139.5625],
        ["Q", 891.5, 135.5625, 894, 132.5625],
        ["Q", 896.5, 129.5625, 901, 123.5625],
        ["Q", 905.5, 117.5625, 910.5, 112.0625],
        ["Q", 915.5, 106.5625, 918, 104.0625],
        ["Q", 920.5, 101.5625, 922.5, 100.0625],
        ["Q", 924.5, 98.5625, 928, 95.0625],
        ["Q", 931.5, 91.5625, 933.5, 90.0625],
        ["Q", 935.5, 88.5625, 937.5, 86.5625],
        ["Q", 939.5, 84.5625, 940, 84.5625],
        ["Q", 940.5, 84.5625, 940.5, 86.0625],
        ["Q", 940.5, 87.5625, 938.5, 90.0625],
        ["Q", 936.5, 92.5625, 933.5, 95.5625],
        ["Q", 930.5, 98.5625, 928.5, 100.0625],
        ["L", 926.499, 101.5635]
      ],
      lineArr2: [
        [48.5, 163.5635],
        [48.5, 163.5625],
        [48.5, 162.5625],
        [48.5, 160.5625],
        [51.5, 157.5625],
        [52.5, 154.5625],
        [56.5, 150.5625],
        [59.5, 146.5625],
        [63.5, 141.5625],
        [67.5, 137.5625],
        [72.5, 133.5625]
      ]
    };
  },
  mounted() {
    document.getElementById("lineWidthRange").value = "2";
    var canvas = new fabric.Canvas("main");
    fabric.Object.prototype.transparentCorners = false;
    canvas.setWidth(1200);
    canvas.setHeight(800);
    // var rect = new fabric.Rect({
    //   left: 100, //距离画布左侧的距离，单位是像素
    //   top: 100, //距离画布上边的距离
    //   fill: "#24b95f", //填充的颜色
    //   width: 100, //方形的宽度
    //   height: 100 //方形的高度
    // });
    // canvas.add(rect);

    // var rect2 = new fabric.Rect({
    //   left: 310, //距离画布左侧的距离，单位是像素
    //   top: 210, //距离画布上边的距离
    //   fill: "lightblue", //填充的颜色
    //   width: 100, //方形的宽度
    //   height: 100 //方形的高度
    // });
    // canvas.add(rect2);

    // Hovering
    // let tempColor;
    // canvas.on('mouse:over', function(e) {
    //   tempColor = e.target.fill;
    //   e.target.set('fill', 'lightblue');
    //   canvas.renderAll();
    // });
    // canvas.on('mouse:out', function(e) {
    //   e.target.set('fill', tempColor);
    //   canvas.renderAll();
    // });

    // 多维数组扁平化
    function reduceDimension(arr) {
      return Array.prototype.concat.apply([], arr);
    }
    var lineArrdelayer = reduceDimension(this.lineArr).join(" ");
    console.log(lineArrdelayer);
    // 原始的path
    var path = new fabric.Path(lineArrdelayer);
    path.set({
      fill: "transparent",
      stroke: "green",
      opacity: 1,
      left: 100,
      top: 10
    });
    canvas.add(path);
    console.log('lineArr:', this.lineArr)

    // 按抽稀程度（等差数列）进行数组分割-- by myself
    var SplitArray = function(N, Q) {
      var R = [],
        F;
      for (F = 0; F < Q.length; ) {
        R.push(Q.slice(F, (F += N)));
      }
      return R;
    };
    var arithmeticArr = SplitArray(3, this.lineArr);
    // console.log("arithmeticArr:", arithmeticArr);
    // 对进行分割过的数组进行首尾点捏取, 后续会继续优化取点算法
    var vacuate = function(arr) {
      var vacuateArr = [];
      for (var i = 0; i < arr.length; i++) {
        var itemLen = arr[i].length;
        vacuateArr.push(arr[i][0]);
        // if(i!=0){
        //   vacuateArr.push(arr[i][(0+itemLen)/2]);
        // }
        vacuateArr.push(arr[i][itemLen - 1]);
      }
      // console.log("vacuateArr------", vacuateArr);
      return vacuateArr;
    };
    var rarefyingArr = vacuate(arithmeticArr);
    console.log("rarefyingArr:", rarefyingArr);

    var path2 = new fabric.Path(rarefyingArr);
    path2.set({
      fill: "transparent",
      stroke: "blue",
      opacity: 1,
      left: 100,
      top: 250
    });
    canvas.add(path2);

    // Douglas-Peuker-Algorithm
    // 计算两点之间的距离
    var calculationDistance = (point1, point2) => {
      // console.log('point1:',point1)
      // console.log('point2:',point2)
      let lat1 = point1[point1.length-1];
      let lat2 = point2[point2.length-1];
      let lng1 = point1[1];
      let lng2 = point2[1];
      let radLat1 = (lat1 * Math.PI) / 180.0;
      let radLat2 = (lat2 * Math.PI) / 180.0;
      let a = radLat1 - radLat2;
      let b = (lng1 * Math.PI) / 180.0 - (lng2 * Math.PI) / 180.0;
      let s =
        2 *
        Math.asin(
          Math.sqrt(
            Math.pow(Math.sin(a / 2), 2) +
              Math.cos(radLat1) *
                Math.cos(radLat2) *
                Math.pow(Math.sin(b / 2), 2)
          )
        );
      return s * 6370996.81;
    };

    // 计算点pX到点pA和pB所确定的直线的距离
    var distToSegment = (start, end, center) => {
      let a = Math.abs(calculationDistance(start, end));
      let b = Math.abs(calculationDistance(start, center));
      let c = Math.abs(calculationDistance(end, center));
      let p = (a + b + c) / 2.0;
      let s = Math.sqrt(Math.abs(p * (p - a) * (p - b) * (p - c)));
      return (s * 2.0) / a;
    };

    // 递归方式压缩轨迹
    var compressLine = (coordinate, result, start, end, dMax) => {
      if (start < end) {
        let maxDist = 0;
        let currentIndex = 0;
        let startPoint = coordinate[start];
        let endPoint = coordinate[end];
        for (let i = start + 1; i < end; i++) {
          let currentDist = distToSegment(startPoint, endPoint, coordinate[i]);
          if (currentDist > maxDist) {
            maxDist = currentDist;
            currentIndex = i;
          }
        }
        if (maxDist >= dMax) {
          //将当前点加入到过滤数组中
          result.push(coordinate[currentIndex]);
          //将原来的线段以当前点为中心拆成两段，分别进行递归处理
          compressLine(coordinate, result, start, currentIndex, dMax);
          compressLine(coordinate, result, currentIndex, end, dMax);
        }
      }
      return result;
    };

    // 供调用的抽稀入口函数
    /**
     *
     *@param coordinate 原始轨迹Array<{latitude,longitude}>
     *@param dMax 允许最大距离误差
     *@return douglasResult 抽稀后的轨迹
     *
     */
    var douglasPeucker = (coordinate, dMax = 10) => {
      if (!coordinate || !(coordinate.length > 2)) {
        return null;
      }else{
        // console.log('coordinate:',coordinate)
        // console.log(typeof coordinate)
        coordinate.forEach((item, index) => {
          item['id'] = index;
        });
      }
      let result = compressLine(coordinate, [], 0, coordinate.length - 1, dMax);
      result.push(coordinate[0]);
      result.push(coordinate[coordinate.length - 1]);
      let resultLatLng = result.sort((a, b) => {
        if (a.id < b.id) {
          return -1;
        } else if (a.id > b.id) return 1;
        return 0;
      });
      resultLatLng.forEach(item => {
        item.id = undefined;
      });
      return resultLatLng;
    };

    var path3 = new fabric.Path(douglasPeucker(this.lineArr,60000));
    console.log('douglasPeucker:',douglasPeucker(this.lineArr,60000))
    path3.set({
      fill: "transparent",
      stroke: "red",
      opacity: 1,
      left: 100,
      top: 510
    });
    canvas.add(path3);

    // 全选
    document.getElementById("selectAll").onclick = () => {
      canvas.discardActiveObject();
      var sel = new fabric.ActiveSelection(canvas.getObjects(), {
        canvas: canvas
      });
      canvas.setActiveObject(sel);
      canvas.requestRenderAll();
    };
    // 取消全选
    document.getElementById("discardSelectAll").onclick = () => {
      canvas.discardActiveObject();
      canvas.requestRenderAll();
    };

    // 清除画板
    document.getElementById("clearCanvas").onclick = () => {
      canvas.clear();
    };

    // 画笔
    document.getElementById("freeDraw").onclick = () => {
      canvas.isDrawingMode = !canvas.isDrawingMode;
      if (canvas.isDrawingMode) {
        document.getElementById("freeDraw").innerHTML = "取消画笔模式";
        this.isDraw = false;
      } else {
        document.getElementById("freeDraw").innerHTML = "画笔模式";
        this.isDraw = true;
      }
    };

    // 线宽
    document.getElementById("lineWidthRange").onchange = e => {
      canvas.freeDrawingBrush.width =
        parseInt(document.getElementById("lineWidthRange").value, 10) || 1;
      this.lineWidth = document.getElementById("lineWidthRange").value;
      console.log(e);
    };
    // 线色
    document.getElementById("lineColor").onchange = e => {
      canvas.freeDrawingBrush.color = document.getElementById(
        "lineColor"
      ).value;
      console.log(e);
    };

    // 删除选中区域
    var deleteSelectedObject = document.getElementById("deleteSelect");
    deleteSelectedObject.onclick = function() {
      // // 优化逻辑
      // if (canvas.getActiveObjects()) {
      //   console.log(canvas.getActiveObjects())
      //   canvas.getActiveObjects().forEachObject(function(o) {
      //     canvas.remove(o);
      //   });
      //   canvas.discardActiveObject().renderAll();
      // }else if(canvas.getActiveObject()){
      //   canvas.remove(canvas.getActiveObject());
      // }

      // 可以运行的逻辑
      if (canvas.getActiveObject()) {
        var flag = canvas.getActiveObject()._objects;
        if (flag) {
          canvas.getActiveObject().forEachObject(function(o) {
            canvas.remove(o);
          });
        } else {
          canvas.remove(canvas.getActiveObject());
        }
        canvas.discardActiveObject().renderAll();
      } else {
        canvas.remove(canvas.getActiveObjects());
      }
    };

    // 画板信息序列转化为JSON对象
    document.getElementById("toJSON").onclick = () => {
      let JSONOBJECT = canvas.toJSON();
      console.log(JSON.stringify(JSONOBJECT.objects[0].path));
    };

    // 选择图形，填入画板
    document.getElementById("selectShape").onchange = e => {
      console.log(e);
      let currentColor = document.getElementById("lineColor").value;
      let currentLineWidth = document.getElementById("lineWidthRange").value;
      this.color = currentColor;
      this.lineWidthCurrent = parseInt(currentLineWidth);
      // var canWid = canvas.height,
      //   canHei = canvas.width;
      // var randomLeft = 0;
      // var randomTop = 0;
      // randomLeft = Math.floor(Math.random() * (canWid + 1));
      // randomTop = Math.floor(Math.random() * (canHei + 1));
      // console.log(randomLeft, randomTop);
      var shape = document.getElementById("selectShape").value;
      switch (shape) {
        case "rect":
          this.rectCount++;
          var rectObj = `rect${this.rectCount}`;
          // if(canWid-randomLeft<100 ){
          //   randomLeft =randomLeft - 100
          // }else if(randomLeft<100){
          //   randomLeft = randomLeft + 100
          // }
          // if(canHei-randomTop<100 ){
          //   randomTop =randomTop - 100
          // }else if(randomTop<100){
          //   randomTop = randomTop + 100
          // }
          rectObj = new fabric.Rect({
            left: this.rectCount * 100, //距离画布左侧的距离，单位是像素
            top: this.rectCount * 100, //距离画布上边的距离
            fill: "", //填充的颜色
            stroke: this.color,
            strokeWidth: this.lineWidthCurrent,
            width: 100, //方形的宽度
            height: 100 //方形的高度,
          });
          canvas.add(rectObj);
          canvas.setActiveObject(rectObj);
          break;
        case "circle":
          this.circleCount++;
          var circleObj = `rect${this.circleCount}`;
          circleObj = new fabric.Circle({
            radius: 50,
            fill: "",
            stroke: this.color,
            strokeWidth: this.lineWidthCurrent,
            originX: 0,
            originY: 0
          });
          canvas.add(circleObj);
          canvas.setActiveObject(circleObj);
          break;
        case "ellipse":
          this.ellipseCount++;
          var ellipseObj = `ellipse${this.ellipseCount}`;
          ellipseObj = new fabric.Ellipse({
            rx: 80,
            ry: 45,
            fill: "",
            stroke: this.color,
            strokeWidth: this.lineWidthCurrent,
            angle: 0,
            left: 100,
            top: 100
          });
          canvas.add(ellipseObj);
          break;
        case "straight":
          this.lineCount++;
          var lineObj = `line${this.lineCount}`;
          lineObj = new fabric.Line([10, 10, 100, 100], {
            left: this.rectCount * 100 + 200, //距离画布左侧的距离，单位是像素
            top: this.rectCount * 100 + 200, //距离画布上边的距离
            fill: "",
            stroke: this.color, //笔触颜色
            strokeWidth: this.lineWidthCurrent
          });
          canvas.add(lineObj);
          canvas.setActiveObject(lineObj);
          break;
        case "triangle":
          this.triangleCount++;
          var triangleObj = `triangle${this.triangleCount}`;
          triangleObj = new fabric.Triangle({
            width: 80,
            height: 80,
            fill: "",
            stroke: this.color,
            strokeWidth: this.lineWidthCurrent,
            left: 50,
            top: 50
          });
          canvas.add(triangleObj);
          canvas.setActiveObject(triangleObj);
          break;
        default:
          console.log("请选择图案");
          break;
      }
      document.getElementById("selectShape").value = null;
    };
  },
  methods: {}
};
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
.hello {
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
}
.operation-bar {
  margin: 0 0 20px 8px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.btn {
  margin-right: 10px;
  height: 30px;
  border: 1px solid #cccccc;
  background: transparent;
  outline: none;
  cursor: pointer;
}

.btn:first-child {
  width: 100px;
}
label {
  height: 30px;
  line-height: 30px;
  font-size: 14px;
  box-sizing: border-box;
  vertical-align: middle;
  border: 1px solid #cccccc;
  padding: 0 10px;
}
label input[type="range"] {
  vertical-align: middle;
  margin-bottom: 8px;
  width: 100px;
  -webkit-appearance: none;
  background: transparent;
}
input[type="range"]:focus {
  outline: none;
}
input[type="range"]::-webkit-slider-runnable-track {
  /* width: 100%; */
  height: 8.4px;
  cursor: pointer;
  box-shadow: 1px 1px 1px rgba(0, 0, 0, 0), 0 0 1px rgba(13, 13, 13, 0);
  background: lightgrey; /*滑动条轨道背景颜色*/
  border-radius: 3.3px;
  border: 0.2px solid rgba(1, 1, 1, 0);
}
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  height: 15px;
  width: 15px;
  box-shadow: 0 0 0 rgba(0, 0, 0, 0), 0 0 0 rgba(13, 13, 13, 0);
  border-radius: 50px;
  background: lightgray; /*和进度条的填充部分一个颜色*/
  cursor: pointer;
  margin-top: -3.5px;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);
}
/*自定义滑动条获得焦点时的背景颜色*/
input[type="range"]:focus::-webkit-slider-runnable-track {
  background: lightgray;
}

/*兼容Firefox浏览器*/
input[type="range"]::-moz-range-track {
  width: 100%;
  height: 8.4px;
  cursor: pointer;
  box-shadow: 1px 1px 1px rgba(0, 0, 0, 0), 0 0 1px rgba(13, 13, 13, 0);
  background: lightgrey;
  border-radius: 3.3px;
  border: 0.2px solid rgba(1, 1, 1, 0);
}
input[type="range"]::-moz-range-thumb {
  box-shadow: 0 0 0 rgba(0, 0, 0, 0), 0 0 0 rgba(13, 13, 13, 0);
  height: 15px;
  width: 15px;
  border-radius: 50px;
  background: lightgray;
  cursor: pointer;
}

.canvasWrapper {
  width: 1200px;
  height: 800px;
  box-sizing: border-box;
  border: 1px solid #cccccc;
  margin: 0 auto;
}

.isDis {
  background: lightgray;
  cursor: not-allowed;
}

.lineColor {
  vertical-align: middle;
}
#lineColor {
  border: 0;
  outline: none;
  height: 20px;
  /* margin-top: 2px; */
  /* vertical-align: middle; */
}
::-webkit-color-swatch-wrapper {
  background-color: #ffffff;
}
::-webkit-color-swatch {
  position: relative;
}
</style>
